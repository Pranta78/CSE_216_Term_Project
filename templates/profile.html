{% extends "skeleton.html" %}

{% block skeleton_content %}

{#<div class="container-fluid" style="display: block; position: relative">#}
<div class="container-fluid">

    <div class="row">
       <div class="container" style="display: block; position: relative">

           <a href="{{ header_photo|default:"" }}">
               <div style="width: 100%;height: 350px; background-image: url('{{ header_photo|default:"/media/default_header.png" }}'); background-size: cover; background-position: center; border: 5px solid #5b80b2; border-radius: 2%;"></div>
           </a>

           <a href="{{ profile_photo|default:""}}">
             <div style="display: block; position: relative; height: 200px; width: 200px; z-index: 999; margin: -10% 0 0% 5%; background-image: url('{{ profile_photo|default:"/media/default_profile.png" }}'); background-size: cover; background-position: center; border: 5px solid #555; border-radius: 50%; max-width: 100%;">
             </div>
           </a>

        </div>
    </div>

    <div class="row">
        <div class="col-3" style="float: left">
            <h2>{{ profile_name|default:"Default" }}</h2>
        </div>

         <div class="col-9">
            <div class="btn-group mx-auto" style="float: right">

              {% if self_profile %}
                  <form action="/profile-edit/">
                    <button type="submit" class="btn btn-primary">Edit Profile</button>
                  </form>

              {% else %}
                  <form method="post">{% csrf_token %}
                    <input type="hidden" name="follow" value="{% if follows_user %}unfollow{% else %}follow{% endif %}">
                      <button type="submit" class="btn btn-primary" id="followbtn">
                          {% if follows_user %}
                            Unfollow
                          {% else %}
                            Follow
                          {% endif %}
                      </button>
                  </form>

                  <form action="/inbox/{{ profile_name }}/">
                        <button type="submit" class="btn btn-primary">Message</button>
                  </form>
              {% endif %}

            </div>
        </div>
    </div>

    <div class="row">
        <p>{{ bio|default:"No bio available"|linebreaksbr }}</p>
    </div>

    <div class="row">
        <div class="btn-toolbar">
            <a href="{% url 'user_profile_follower' profile_name %}">
                 <button class="btn btn-light">
                    {{ follower_count }} Followers
                 </button>
            </a>
            <a href="{% url 'user_profile_following' profile_name %}">
                 <button class="btn btn-light">{{ following_count }} Following</button>
            </a>
        </div>
    </div>

    <br>

    <div class="row">
        <div class="container-fluid">
{#                {% include 'profile_navigator.html' with profile_name=profile_name %}#}

            <div class="row" align="center" id="nav_content">
                <div class="col-10">
                   <nav class="nav nav nav-pills nav-justified">
                      <a class="nav-item nav-link {% if tweet_is_active %}active{% endif %}" href="{% url 'user_profile_tweets' profile_name %}">Tweets</a>
                      <a class="nav-item nav-link {% if tweet_and_replies_is_active %}active{% endif %}" href="{% url 'user_profile_tweets_and_replies' profile_name %}">Tweets and replies</a>
                      <a class="nav-item nav-link {% if media_is_active %}active{% endif %}" href="{% url 'user_profile_media' profile_name %}">Media</a>
                      <a class="nav-item nav-link {% if likes_is_active %}active{% endif %}" href="{% url 'user_profile_likes' profile_name %}">Likes</a>
                   </nav>
                </div>
            </div>

            <br>

            <div class="row">
                <div class="container-fluid" id="content">
                    {% block profile_navcontent %}
                    {% endblock %}
                </div>
            </div>

        </div>
    </div>

    <script>
        document.getElementsByTagName("body")[0].onload = function () {
                document.getElementById("nav_content").scrollIntoView(true);
            };

        {#if(document.getElementById("like"))#}
        {#    document.getElementsByTagName("body")[0].onload = function () {#}
        {#        document.getElementById("like").scrollIntoView(true);#}
        {#    };#}
        {##}
        {#if(document.getElementById("tweet"))#}
        {#    document.getElementsByTagName("body")[0].onload = function () {#}
        {#        document.getElementById("tweet").scrollIntoView(true);#}
        {#    };#}
    </script>

 </div>


{% endblock %}